<label>Name</label>
<input ng-change="loadCardNames()" ng-model="query.name" ng-model-options='{ debounce: 1000 }'>

<ui-select multiple ng-model="query.set" theme="bootstrap" style="width: 300px;" title="Choose card set" ng-change="loadCardNames()">
	<ui-select-match placeholder="Select or search card set...">
		[{{$item.code}}] {{$item.name}} {{$item.block? '- ' + $item.block : ''}}
	</ui-select-match>
	<ui-select-choices repeat="set.code as set in sets | filter: $select.search">
		[{{set.code}}] {{set.name}} {{set.block? '- ' + set.block : ''}}
	</ui-select-choices>
</ui-select>

<ui-select multiple ng-model="query.color" theme="bootstrap" style="width: 300px;" title="Choose card colors" ng-change="loadCardNames()">
	<ui-select-match placeholder="Select or search card colors...">{{$item.name}}</ui-select-match>
	<ui-select-choices repeat="color.symbol as color in colors | filter: $select.search">
		{{color.name}}
	</ui-select-choices>
</ui-select>

<ui-select ng-model="query.type" theme="bootstrap" style="width: 300px;" title="Choose card types" ng-change="loadCardNames()">
	<ui-select-match placeholder="Select or search card types...">{{$select.selected}}</ui-select-match>
	<ui-select-choices repeat="type in types | filter: $select.search">
		{{type}}
	</ui-select-choices>
</ui-select>

<ui-select multiple ng-model="query.subtype" theme="bootstrap" style="width: 300px;" title="Choose card subtypes" ng-change="loadCardNames()">
	<ui-select-match placeholder="Select or search card subtypes...">{{$item}}</ui-select-match>
	<ui-select-choices repeat="subtype in subtypes | filter: $select.search">
		{{subtype}}
	</ui-select-choices>
</ui-select>

<ui-select ng-model="query.legality" theme="bootstrap" style="width: 300px;" title="Choose card legality" ng-change="loadCardNames()">
	<ui-select-match placeholder="Select or search card legality...">{{$select.selected}}</ui-select-match>
	<ui-select-choices repeat="legality in legalities | filter: $select.search">
		{{legality}}
	</ui-select-choices>
</ui-select>

<div ng-repeat="card in loadedCards | filter: hasImage " class="card-image float-card">
	<div afkl-lazy-image="{{card.imageUrl}}" class="afkl-lazy-wrapper afkl-img-ratio-1-1 own-classname" 
	afkl-lazy-image-options='{imgAttrs: [{alt: "{{card.name}}"}]}' ></div>
</div>
